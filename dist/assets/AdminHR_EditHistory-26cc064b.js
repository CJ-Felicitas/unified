import{_ as O,P as I,D as A,A as H,a as E,b as p,r as c,o as r,c as i,d as T,e as t,t as o,f as m,w as u,j as f,g as y,h as D,p as N,i as P}from"./index-6fcab6bb.js";I.use(A);const U={name:"AdminEditHistory",components:{AdminSidebar:H,DataTable:I},data(){return{PageTitle:"EMPLOYEE WELFARE AND RELATIONS",PageDetail:"Edit History Logs",hr:[],model:{Hr:{}}}},mounted(){this.HrID=this.$route.params.ID,this.getHrEditHistory(this.HrID),this.HrData(this.HrID)},methods:{formatDate(s){const e={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(s).toLocaleDateString(void 0,e)},async getHrEditHistory(s){try{const e=await E.get(`${p}/api/hrVersion/${s}`);this.hr=e.data.HrEditHistory,console.log(e)}catch(e){console.error(e)}},async HrData(s){try{const e=await E.get(`${p}/api/hrlist/${s}/edit`),d=e.data.Hr;if(console.log(e.data.Hr),!d||Object.keys(d).length===0)for(const h in this.model.Hr)this.model.Hr[h]="No Data";else Object.assign(this.model.Hr,d)}catch(e){e.response&&e.response.status===404?alert(e.response.data.message):console.error(e)}}}},l=s=>(N("data-v-430208b6"),s=s(),P(),s),k=l(()=>t("br",null,null,-1)),L=l(()=>t("br",null,null,-1)),F=l(()=>t("br",null,null,-1)),R=l(()=>t("br",null,null,-1)),w=l(()=>t("br",null,null,-1)),M={class:"container-fluid wrapper"},v=l(()=>t("p",{class:"Header"},"Recent Edit",-1)),x={class:"Header2"},Y=l(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),Q={class:"actions"},C=l(()=>t("i",{class:"bx bx-low-vision table-icon custom-link"},null,-1)),B=l(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),G=l(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),V=l(()=>t("td",null,"no data",-1)),j=[V],$=l(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1));function q(s,e,d,h,a,b){const S=c("AdminSidebar"),g=c("router-link"),_=c("DataTable");return r(),i("div",null,[T(S,{iconText:a.PageTitle,iconDetails:a.PageDetail},null,8,["iconText","iconDetails"]),k,L,F,R,w,t("div",M,[v,t("p",x,o(a.model.Hr.Agency),1),this.hr.length>0?(r(),m(_,{key:0,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"hrTable",options:{order:[[0,"desc"]],stateSave:!0}},{default:u(()=>[Y,t("tbody",null,[(r(!0),i(y,null,D(a.hr,n=>(r(),i("tr",{key:n.id},[t("td",null,o(n.id),1),t("td",null,o(b.formatDate(n.created_at)),1),t("td",null,o(n.request_date),1),t("td",null,o(n.requesting_employee_name),1),t("td",null,o(n.employee_position),1),t("td",null,o(n.employment_status),1),t("td",null,o(n.office_unit),1),t("td",Q,[T(g,{to:{path:"/adminhr/"+n.id+"/editHistory/view"},class:"custom-link"},{default:u(()=>[C]),_:2},1032,["to"])])]))),128))]),B]),_:1})):this.hr.length<=0?(r(),m(_,{key:1,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"hrTable"},{default:u(()=>[G,t("tbody",null,[(r(!0),i(y,null,D(a.hr,n=>(r(),i("tr",{key:n.id},j))),128))]),$]),_:1})):f("",!0)])])}const z=O(U,[["render",q],["__scopeId","data-v-430208b6"]]);export{z as default};
