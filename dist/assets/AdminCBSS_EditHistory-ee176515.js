import{_ as S,P as g,D as E,A as I,a as _,b,r,o as a,c as d,d as m,e as t,t as o,f as p,w as u,j as x,g as D,h as y,p as k,i as v}from"./index-6fcab6bb.js";g.use(E);const w={name:"AdminEditHistory",components:{AdminSidebar:I,DataTable:g},data(){return{PageTitle:"Community Based Services Section",PageDetail:"Edit History Log",cbss:[],model:{Cbss:{NAME:""}}}},mounted(){this.CbssID=this.$route.params.ID,this.getCbssEditHistory(this.CbssID),this.CbssData(this.CbssID)},methods:{formatDate(n){const s={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(n).toLocaleDateString(void 0,s)},async getCbssEditHistory(n){try{const s=await _.get(`${b}/api/cbssVersion/${n}`);this.cbss=s.data.CbssEditHistory}catch(s){console.error(s)}},async CbssData(n){try{const c=(await _.get(`${b}/api/cbsslist/${n}/edit`)).data.Cbss;!c||Object.keys(c).length===0?this.model.Cbss=this.model.Cbss.map(()=>"No Data"):Object.assign(this.model.Cbss,c)}catch(s){s.response&&s.response.status===404?alert(s.response.data.message):console.error(s)}}}},e=n=>(k("data-v-430b4d4d"),n=n(),v(),n),N=e(()=>t("br",null,null,-1)),T=e(()=>t("br",null,null,-1)),H=e(()=>t("br",null,null,-1)),M=e(()=>t("br",null,null,-1)),B=e(()=>t("br",null,null,-1)),O={class:"container-fluid wrapper"},P=e(()=>t("p",{class:"Header"},"Recent Edit",-1)),L={class:"Header2"},V=e(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Age"),t("th",null,"Sex"),t("th",null,"Case Category"),t("th",null,"Mode of Admission"),t("th",null,"Actions")])],-1)),j={class:"actions"},R=e(()=>t("i",{class:"bx bx-low-vision table-icon custom-link"},null,-1)),$=e(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Age"),t("th",null,"Sex"),t("th",null,"Case Category"),t("th",null,"Mode of Admission"),t("th",null,"Actions")])],-1)),F=e(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Age"),t("th",null,"Sex"),t("th",null,"Case Category"),t("th",null,"Mode of Admission"),t("th",null,"Actions")])],-1)),G=e(()=>t("td",null,"no data",-1)),U=[G],X=e(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Age"),t("th",null,"Sex"),t("th",null,"Case Category"),t("th",null,"Mode of Admission"),t("th",null,"Actions")])],-1));function Y(n,s,c,q,i,C){const A=r("AdminSidebar"),f=r("router-link"),h=r("DataTable");return a(),d("div",null,[m(A,{iconText:i.PageTitle,iconDetails:i.PageDetail},null,8,["iconText","iconDetails"]),N,T,H,M,B,t("div",O,[P,t("p",L,o(i.model.Cbss.NAME),1),this.cbss.length>0?(a(),p(h,{key:0,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"cbssTable",options:{order:[[0,"desc"]],stateSave:!0}},{default:u(()=>[V,t("tbody",null,[(a(!0),d(D,null,y(i.cbss,l=>(a(),d("tr",{key:l.ID},[t("td",null,o(l.ID),1),t("td",null,o(C.formatDate(l.created_at)),1),t("td",null,o(l.NAME),1),t("td",null,o(l.AGE),1),t("td",null,o(l.SEX),1),t("td",null,o(l.CASE_CATEGORY),1),t("td",null,o(l.MODE_OF_ADMISSION),1),t("td",j,[m(f,{to:{path:"/admincbss/"+l.ID+"/editHistory/view"},class:"custom-link"},{default:u(()=>[R]),_:2},1032,["to"])])]))),128))]),$]),_:1})):this.cbss.length<=0?(a(),p(h,{key:1,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"cbssTable"},{default:u(()=>[F,t("tbody",null,[(a(!0),d(D,null,y(i.cbss,l=>(a(),d("tr",{key:l.ID},U))),128))]),X]),_:1})):x("",!0)])])}const J=S(w,[["render",Y],["__scopeId","data-v-430b4d4d"]]);export{J as default};
