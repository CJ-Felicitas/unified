import{_ as w,P as y,D as g,F as S,A as I,B as O,a as f,b as x,r as E,o as p,c as b,d as c,e as t,w as r,f as m,g as A,h as k,t as d,p as v,i as N}from"./index-6fcab6bb.js";import{E as R}from"./exceljs.min-acaad0bf.js";y.use(g);const D={name:"AdminHR",components:{Footer:S,AdminSidebar:I,BarChart:O,DataTable:y},data(){return{PageTitle:"EMPLOYEE WELFARE AND RELATIONS",PageDetail:"Active Main Dashboard",hr:[]}},computed:{},mounted(){this.getHr()},methods:{exportToExcel(){const o=new R.Workbook,i=o.addWorksheet("HRData"),n=["NO.","REQUEST DATE","NAME OF REQUESTING","EMPLOYEE	POSITION","EMPLOYMENT STATUS","OFFICE/UNIT","CATEGORY OF REQUEST","BRIEF INTERVIEW","REMARKS","Assistance Provided Kind/Type","Quantity/ Unit","Date Received"];i.addRow(n),this.hr.forEach(l=>{const a=[l.id,l.request_date,l.requesting_employee_name,l.employee_position,l.employment_status,l.office_unit,l.request_category,l.brief_interview,l.remarks,l.assistance_provided];i.addRow(a)}),o.xlsx.writeBuffer().then(l=>{const a=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),u=window.URL.createObjectURL(a),h=document.createElement("a");h.href=u,h.download="hr_data.xlsx",h.click()})},async getHr(){try{const o=await f.get(`${x}/api/hrlist`);this.hr=o.data.Hr,console.log(o)}catch(o){console.error(o)}},async deleteHr(o){if((await this.$swal({title:"Are you sure?",text:"You want to archive this data?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, archive it!",cancelButtonText:"No, keep it"})).isConfirmed)try{const n=await f.delete(`${x}/api/hrlist/${o}/delete`);await this.$swal({icon:"success",title:"Success!",text:n.data.message}),window.location.reload()}catch(n){n.response?(n.response.status===422&&(this.errorList=n.response.data.errors),n.response.status===404&&await this.$swal({icon:"error",title:"Error!",text:n.response.data.message})):n.request?console.log(n.request):console.log("error",n.message)}}}},e=o=>(v("data-v-76b67f3d"),o=o(),N(),o),U=e(()=>t("br",null,null,-1)),M=e(()=>t("br",null,null,-1)),P=e(()=>t("br",null,null,-1)),F=e(()=>t("br",null,null,-1)),L=e(()=>t("div",{class:"container-fluid wrapper"},null,-1)),C={class:"card card-margin"},B={class:"card-header",style:{display:"flex"}},Y={class:"dropdown"},Q=e(()=>t("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Active ",-1)),H={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},q=e(()=>t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Inactive")],-1)),G=e(()=>t("button",{class:"btn btn-primary float-start",style:{"background-color":"#133f5c","font-size":"12px",padding:"10px 30px 10px 30px","margin-left":"20px"}}," ADD NEW ",-1)),W={class:"card-body"},$=e(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),V={class:"actions"},z=e(()=>t("i",{class:"bx bx-low-vision table-icon custom-link"},null,-1)),K=e(()=>t("i",{class:"bx bx-edit icon table-icon"},null,-1)),X=["onClick"],j=e(()=>t("i",{class:"bx bx-history icon table-icon"},null,-1)),J=e(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),Z=e(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),tt=e(()=>t("tbody",null,null,-1)),et=e(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"REQUEST DATE"),t("th",null,"NAME OF REQUESTING"),t("th",null,"EMPLOYEE POSITION"),t("th",null,"EMPLOYEE STATUS"),t("th",null,"OFFICE/UNIT"),t("th",null,"Actions")])],-1)),ot=e(()=>t("br",null,null,-1)),nt=e(()=>t("br",null,null,-1));function lt(o,i,n,l,a,u){const h=E("AdminSidebar"),_=E("router-link"),T=E("DataTable");return p(),b("div",null,[c(h,{iconText:a.PageTitle,iconDetails:a.PageDetail},null,8,["iconText","iconDetails"]),U,M,P,F,L,t("div",C,[t("div",B,[t("div",Y,[Q,t("ul",H,[c(_,{to:"/adminhr/archive",style:{"text-decoration":"none"}},{default:r(()=>[q]),_:1})])]),c(_,{to:"/adminhr/create"},{default:r(()=>[G]),_:1}),t("button",{onClick:i[0]||(i[0]=(...s)=>u.exportToExcel&&u.exportToExcel(...s)),class:"btn btn-primary float-end",style:{"background-color":"#0229bf","font-size":"12px",padding:"10px 30px 10px 30px","margin-left":"auto"}}," EXPORT TO EXCEL ")]),t("div",W,[this.hr.length>0?(p(),m(T,{key:0,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"hrTable",options:{stateSave:!0,pageLength:5,lengthMenu:[[5,10,25,50],[5,10,25,50]]}},{default:r(()=>[$,t("tbody",null,[(p(!0),b(A,null,k(a.hr,s=>(p(),b("tr",{key:s.id},[t("td",null,d(s.id),1),t("td",null,d(s.request_date),1),t("td",null,d(s.requesting_employee_name),1),t("td",null,d(s.employee_position),1),t("td",null,d(s.employment_status),1),t("td",null,d(s.office_unit),1),t("td",V,[c(_,{to:{path:"/adminhr/"+s.id+"/view"},class:"custom-link"},{default:r(()=>[z]),_:2},1032,["to"]),c(_,{to:{path:"/adminhr/"+s.id+"/edit"},class:"custom-link"},{default:r(()=>[K]),_:2},1032,["to"]),t("i",{onClick:st=>u.deleteHr(s.id),class:"bx bx-archive-in icon table-icon custom-link",style:{cursor:"pointer"}},null,8,X),c(_,{to:{path:"/adminhr/"+s.id+"/editHistory"},class:"custom-link"},{default:r(()=>[j]),_:2},1032,["to"])])]))),128))]),J]),_:1})):(p(),m(T,{key:1,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",options:{stateSave:!0,pageLength:5,lengthMenu:[[5,10,25,50],[5,10,25,50]]}},{default:r(()=>[Z,tt,et]),_:1}))])]),ot,nt])}const it=w(D,[["render",lt],["__scopeId","data-v-76b67f3d"]]);export{it as default};
