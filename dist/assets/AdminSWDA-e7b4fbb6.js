import{_ as D,P as A,D as S,F as v,A as k,B as L,a as w,b as x,r as f,o as h,c as b,d as i,e,w as r,f as y,g as I,h as T,t as d,p as C,i as E}from"./index-6fcab6bb.js";import{E as R}from"./exceljs.min-acaad0bf.js";A.use(S);const m={name:"AdminSWDA",components:{Footer:v,AdminSidebar:k,BarChart:L,DataTable:A},data(){return{PageTitle:"List of Registration, Licensing, and Accreditation of Social Welfare and Development Agencies",PageDetail:"Active Admin Dashboard",swda:[]}},computed:{},mounted(){this.getSwda()},methods:{exportToExcel(){const o=new R.Workbook,c=o.addWorksheet("SwdaData"),n=["ID","Type","Sector","Cluster","Agency","Address","Former Name","Contact Number","Fax","Email","Website","Contact Person","Position","Mobile Number","Registered","Licensed","Accredited","Services Offered","Simplified Services","Area of Operation","Regional Operation","Specified Areas of Operation","Mode of Delivery","Clientele","Registration ID","Registration Date","Registration Expiration","Registration Status","License ID","License Date Issued","License Expiration","License Status","Accreditation ID","Accreditation Date Issued","Accreditation Expiration","Accreditation Status","Remarks","License Days Left","Licensure Overdue","Accreditation Days Left","Accreditation Overdue"];c.addRow(n),this.swda.forEach(t=>{const l=[t.ID,t.Type,t.Sector,t.Cluster,t.Agency,t.Address,t.Former_Name,t.Contact_Number,t.Fax,t.Email,t.Website,t.Contact_Person,t.Position,t.Mobile_Number,t.Registered,t.Licensed,t.Accredited,t.Services_Offered,t.Simplified_Services,t.Area_of_Operation,t.Regional_Operation,t.Specified_Areas_of_Operation,t.Mode_of_Delivery,t.Clientele,t.Registration_ID,t.Registration_Date,t.Registration_Expiration,t.Registration_Status,t.Licensed_ID,t.License_Date_Issued,t.License_Expiration,t.License_Status,t.Accreditation_ID,t.Accreditation_Date_Issued,t.Accreditation_Expiration,t.Accreditation_Status,t.Remarks,t.License_Days_Left,t.Licensure_Overdue,t.Accreditation_Days_Left,t.Accreditation_Overdue];c.addRow(l)}),o.xlsx.writeBuffer().then(t=>{const l=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),u=window.URL.createObjectURL(l),_=document.createElement("a");_.href=u,_.download="swda_data.xlsx",_.click()})},async getSwda(){try{const o=await w.get(`${x}/api/swdalist`);this.swda=o.data.Swda,console.log(o)}catch(o){console.log(o)}},async deleteSwda(o){if((await this.$swal({title:"Are you sure?",text:"You want to archive this data?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, archive it!",cancelButtonText:"No, keep it"})).isConfirmed)try{const n=await w.delete(`${x}/api/swdalist/${o}/delete`);await this.$swal({icon:"success",title:"Success!",text:n.data.message}),window.location.reload()}catch(n){n.response?(n.response.status===422&&(this.errorList=n.response.data.errors),n.response.status===404&&this.$swal({icon:"error",title:"Error!",text:n.response.data.message})):n.request?console.log(n.request):console.log("error",n.message)}}}},s=o=>(C("data-v-ff2230b1"),o=o(),E(),o),O=s(()=>e("br",null,null,-1)),B=s(()=>e("br",null,null,-1)),N=s(()=>e("br",null,null,-1)),P=s(()=>e("br",null,null,-1)),W=s(()=>e("div",{class:"container-fluid wrapper"},null,-1)),M={class:"card card-margin"},F={class:"card-header",style:{display:"flex"}},$={class:"dropdown"},U=s(()=>e("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Active ",-1)),q={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},z=s(()=>e("li",null,[e("a",{class:"dropdown-item",href:"#"},"Inactive")],-1)),V=s(()=>e("button",{class:"btn btn-primary float-start",style:{"background-color":"#133f5c","font-size":"12px",padding:"10px 30px 10px 30px","margin-left":"20px"}}," ADD NEW ",-1)),X={class:"card-body"},Y=s(()=>e("thead",{style:{background:"#133f5c"},class:"text-white"},[e("tr",null,[e("th",null,"ID"),e("th",null,"Type"),e("th",null,"Sector"),e("th",null,"Cluster"),e("th",null,"Agency"),e("th",null,"Address"),e("th",null,"Actions")])],-1)),j={class:"actions"},H=s(()=>e("i",{class:"bx bx-low-vision table-icon custom-link"},null,-1)),J=s(()=>e("i",{class:"bx bx-edit icon table-icon"},null,-1)),G=["onClick"],K=s(()=>e("i",{class:"bx bx-history icon table-icon"},null,-1)),Q=s(()=>e("tfoot",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Type"),e("th",null,"Sector"),e("th",null,"Cluster"),e("th",null,"Agency"),e("th",null,"Address"),e("th",null,"Actions")])],-1)),Z=s(()=>e("thead",{style:{background:"#133f5c"},class:"text-white"},[e("tr",null,[e("th",null,"ID"),e("th",null,"Type"),e("th",null,"Sector"),e("th",null,"Cluster"),e("th",null,"Agency"),e("th",null,"Address"),e("th",null,"Actions")])],-1)),ee=s(()=>e("tbody",null,null,-1)),te=s(()=>e("tfoot",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Type"),e("th",null,"Sector"),e("th",null,"Cluster"),e("th",null,"Agency"),e("th",null,"Address"),e("th",null,"Actions")])],-1)),se=s(()=>e("br",null,null,-1)),oe=s(()=>e("br",null,null,-1));function ne(o,c,n,t,l,u){const _=f("AdminSidebar"),p=f("router-link"),g=f("DataTable");return h(),b("div",null,[i(_,{iconText:l.PageTitle,iconDetails:l.PageDetail},null,8,["iconText","iconDetails"]),O,B,N,P,W,e("div",M,[e("div",F,[e("div",$,[U,e("ul",q,[i(p,{to:"/adminswda/archive",style:{"text-decoration":"none"}},{default:r(()=>[z]),_:1})])]),i(p,{to:"/adminswda/create"},{default:r(()=>[V]),_:1}),e("button",{onClick:c[0]||(c[0]=(...a)=>u.exportToExcel&&u.exportToExcel(...a)),class:"btn btn-primary float-end",style:{"background-color":"#0229bf","font-size":"12px",padding:"10px 30px 10px 30px","margin-left":"auto"}}," EXPORT TO EXCEL ")]),e("div",X,[this.swda.length>0?(h(),y(g,{key:0,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"swdaTable",options:{stateSave:!0,pageLength:5,lengthMenu:[[5,10,25,50],[5,10,25,50]]}},{default:r(()=>[Y,e("tbody",null,[(h(!0),b(I,null,T(l.swda,a=>(h(),b("tr",{key:a.ID},[e("td",null,d(a.ID),1),e("td",null,d(a.Type),1),e("td",null,d(a.Sector),1),e("td",null,d(a.Cluster),1),e("td",null,d(a.Agency),1),e("td",null,d(a.Address),1),e("td",j,[i(p,{to:{path:"/adminswda/"+a.ID+"/view"},class:"custom-link"},{default:r(()=>[H]),_:2},1032,["to"]),i(p,{to:{path:"/adminswda/"+a.ID+"/edit"},class:"custom-link"},{default:r(()=>[J]),_:2},1032,["to"]),e("i",{onClick:ae=>u.deleteSwda(a.ID),class:"bx bx-archive-in icon table-icon custom-link",style:{cursor:"pointer"}},null,8,G),i(p,{to:{path:"/adminswda/"+a.ID+"/editHistory"},class:"custom-link"},{default:r(()=>[K]),_:2},1032,["to"])])]))),128))]),Q]),_:1})):(h(),y(g,{key:1,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",options:{stateSave:!0,pageLength:5,lengthMenu:[[5,10,25,50],[5,10,25,50]]}},{default:r(()=>[Z,ee,te]),_:1}))])]),se,oe])}const ce=D(m,[["render",ne],["__scopeId","data-v-ff2230b1"]]);export{ce as default};
