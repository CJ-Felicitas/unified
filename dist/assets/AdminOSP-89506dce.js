import{_ as N,P as S,D as f,F as b,A as R,B as L,a as A,b as O,r as T,o as h,c as p,d as r,e as t,w as i,f as D,g,h as M,t as d,p as P,i as C}from"./index-6fcab6bb.js";import{E as x}from"./exceljs.min-acaad0bf.js";S.use(f);const y={name:"AdminOSP",components:{Footer:b,AdminSidebar:R,BarChart:L,DataTable:S},data(){return{PageTitle:"OPERATIONAL STAFF DATABASE",PageDetail:"Active Main Dashboard",osd:[]}},computed:{},mounted(){this.getOsd()},methods:{exportToExcel(){const n=new x.Workbook,c=n.addWorksheet("OSDData"),l=["ID","DIVISION","SECTION_UNIT","OFFICE LOCATION/ OFFICIAL STATION (RPMO, Field or Centers and Institution)","ITEM NUMBER","DATE POSITION WAS CREATED (If not able to indicate past creations just include since 2013 or 2014 up-to-date)","POSITION TITLE","PARENTHETICAL TITLE","POSITION LEVEL","SG","SALARY STEP INCREMENT","MONTHLY RATE","DESIGNATION (AS APPROPRIATE) BASED ON SO","DATE OF DESIGNATION","SPECIAL ORDER NO.","OFFICE/BUREAU/SERVICE/ PROGRAM (Plantilla Assignment based on PSIPOP)","FUND SOURCE FOR CONTRACTUAL, CONTRACT OF SERVICE AND JOB ORDER (BASED ON CREATION)","EMPLOYMENT STATUS","STATUS (FILLED/UNFILLED)","MODE OF ACCESSION (FOR APPOINTMENT-BASED POSITIONS ONLY)","DATE FILLED UP/ASSUMPTION (DD-MMM-YYYY)","FULL NAME (LAST NAME, FIRST NAME, MIDDLE NAME)","LASTNAME (CRUZ)","FIRST NAME (JUAN)","MIDDLE NAME (PEREZ)","EXT.","DATE OF ORIGINAL APPOINTMENT (DD-MMM-YYYY)","DATE OF LAST PROMOTION (DD-MMM-YYYY)","ENTRY DATE IN DSWD (First day in service) (DD-MMM-YYYY)","ELIGIBILITY (CSC and other eligibilities)","ELIGIBILITY (License - RA 1080)","LICENSE (RA 1080-LET, RN,RS,ETC)","HIGHEST LEVEL OF ELIGIBILITY (1ST AND 2ND LEVEL ONLY)","HIGHEST EDUCATION COMPLETED","DEGREE AND COURSE (1st Course/Vocational)","DEGREE AND COURSE (2nd Course)","OTHER COURSE/S MASTERS OR DOCTORAL DEGREE (Specify)","GENDER","DATE OF BIRTH (DD-MMM-YYYY)","AGE","CIVIL STATUS","RESIDENTIAL ADDRESS","PERMANENT ADDRESS","INDICATE WHETHER SOLO PARENT","INDICATE WHETHER SENIOR CITIZEN","INDICATE WHETHER PWD","TYPE OF DISABILITY","INDICATE WHETHER MEMBER OF INDIGINOUS GROUP","INDIGENOUS GROUP","CITIZENSHIP","ACTIVE CONTACT NOS.","ACTIVE AND WORKING EMAIL ADDRESS","FORMER INCUMBENT","MODE OF SEPARATION","DATE VACATED (DD-MMM-YYYY)","REMARKS / STATUS OF VACANT POSITION","EMPLOYEE ID NO","BIR TIN. NO.","PHILHEALTH NUMBER","SSS NUMBER","PAG-IBIG NUMBER","GSIS NUMBER","BLOOD TYPE"];c.addRow(l),this.osd.forEach(o=>{const a=[o.id,o.division,o.section_unit,o.office_location_official_station,o.item_number,o.date_position_created,o.position_title,o.parenthetical_title,o.position_level,o.sg,o.salary_step_increment,o.monthly_rate,o.designation_as_appropriate_based_on_so,o.date_of_designation,o.special_order_no,o.office_bureau_service_program,o.fund_source_for_contractual,o.employment_status,o.status_filled_unfilled,o.mode_of_accession_for_appointment_based_positions,o.date_filled_up_assumption,o.fullname,o.lastname,o.firstname,o.middlename,o.ext,o.date_of_original_appointment,o.date_of_last_promotion,o.entry_date_in_dswd,o.eligibility_csc_and_other_eligibilities,o.eligibility_license_ra_1080,o.license_ra_1080_let_rn_rs_etc,o.highest_level_of_eligibility,o.highest_education_completed,o.degree_and_course_1st_vocational,o.degree_and_course_2nd_course,o.other_courses,o.masters_or_doctoral_degree_specify,o.gender,o.date_of_birth,o.age,o.civil_status,o.residential_address,o.permanent_address,o.indicate_whether_solo_parent,o.indicate_whether_senior_citizen,o.indicate_whether_pwd,o.type_of_disability,o.indicate_whether_member_of_indigenous_group,o.indigenous_group,o.citizenship,o.active_contact_numbers,o.active_and_working_email_address,o.former_incumbent,o.mode_of_separation,o.date_vacated,o.remarks_status_of_vacant_position,o.employee_id_number,o.bir_tin_number,o.philhealth_number,o.sss_number,o.pagibig_number,o.gsis_number,o.blood_type];c.addRow(a)}),n.xlsx.writeBuffer().then(o=>{const a=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),_=window.URL.createObjectURL(a),u=document.createElement("a");u.href=_,u.download="osd_data.xlsx",u.click()})},async getOsd(){try{const n=await A.get(`${O}/api/osdlist`);this.osd=n.data.Osd,console.log(n)}catch(n){console.error(n)}},async deleteOsd(n){if((await this.$swal({title:"Are you sure?",text:"You want to archive this data?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, archive it!",cancelButtonText:"No, keep it"})).isConfirmed)try{const l=await A.delete(`${O}/api/osdlist/${n}/delete`);await this.$swal({icon:"success",title:"Success!",text:l.data.message}),window.location.reload()}catch(l){l.response?(l.response.status===422&&(this.errorList=l.response.data.errors),l.response.status===404&&this.$swal({icon:"error",title:"Error!",text:l.response.data.message})):l.request?console.log(l.request):console.log("error",l.message)}}}},e=n=>(P("data-v-e171da68"),n=n(),C(),n),w=e(()=>t("br",null,null,-1)),v=e(()=>t("br",null,null,-1)),Y=e(()=>t("br",null,null,-1)),U=e(()=>t("br",null,null,-1)),B=e(()=>t("div",{class:"container-fluid wrapper"},null,-1)),F={class:"card card-margin"},k={class:"card-header",style:{display:"flex"}},G={class:"dropdown"},m=e(()=>t("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Active ",-1)),H={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},V=e(()=>t("li",null,[t("a",{class:"dropdown-item",osdef:"#"},"Inactive")],-1)),W=e(()=>t("button",{class:"btn btn-primary float-start",style:{"background-color":"#133f5c","font-size":"12px",padding:"10px 30px 10px 30px","margin-left":"20px"}}," ADD NEW ",-1)),$={class:"card-body"},z=e(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),Z={class:"actions"},J=e(()=>t("i",{class:"bx bx-low-vision table-icon custom-link"},null,-1)),X=e(()=>t("i",{class:"bx bx-edit icon table-icon"},null,-1)),j=["onClick"],q=e(()=>t("i",{class:"bx bx-history icon table-icon"},null,-1)),K=e(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),Q=e(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),tt=e(()=>t("tbody",null,null,-1)),ot=e(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),et=e(()=>t("br",null,null,-1)),nt=e(()=>t("br",null,null,-1));function st(n,c,l,o,a,_){const u=T("AdminSidebar"),E=T("router-link"),I=T("DataTable");return h(),p("div",null,[r(u,{iconText:a.PageTitle,iconDetails:a.PageDetail},null,8,["iconText","iconDetails"]),w,v,Y,U,B,t("div",F,[t("div",k,[t("div",G,[m,t("ul",H,[r(E,{to:"/adminosp/archive",style:{"text-decoration":"none"}},{default:i(()=>[V]),_:1})])]),r(E,{to:"/adminosp/create"},{default:i(()=>[W]),_:1}),t("button",{onClick:c[0]||(c[0]=(...s)=>_.exportToExcel&&_.exportToExcel(...s)),class:"btn btn-primary float-end",style:{"background-color":"#0229bf","font-size":"12px",padding:"10px 30px 10px 30px","margin-left":"auto"}}," EXPORT TO EXCEL ")]),t("div",$,[this.osd.length>0?(h(),D(I,{key:0,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"osdTable",options:{stateSave:!0,pageLength:5,lengthMenu:[[5,10,25,50],[5,10,25,50]]}},{default:i(()=>[z,t("tbody",null,[(h(!0),p(g,null,M(a.osd,s=>(h(),p("tr",{key:s.id},[t("td",null,d(s.id),1),t("td",null,d(s.fullname),1),t("td",null,d(s.division),1),t("td",null,d(s.section_unit),1),t("td",null,d(s.office_location_official_station),1),t("td",null,d(s.position_title),1),t("td",null,d(s.position_level),1),t("td",Z,[r(E,{to:{path:"/adminosp/"+s.id+"/view"},class:"custom-link"},{default:i(()=>[J]),_:2},1032,["to"]),r(E,{to:{path:"/adminosp/"+s.id+"/edit"},class:"custom-link"},{default:i(()=>[X]),_:2},1032,["to"]),t("i",{onClick:lt=>_.deleteOsd(s.id),class:"bx bx-archive-in icon table-icon custom-link",style:{cursor:"pointer"}},null,8,j),r(E,{to:{path:"/adminosp/"+s.id+"/editHistory"},class:"custom-link"},{default:i(()=>[q]),_:2},1032,["to"])])]))),128))]),K]),_:1})):(h(),D(I,{key:1,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"osdTable",options:{}},{default:i(()=>[Q,tt,ot]),_:1}))])]),et,nt])}const dt=N(y,[["render",st],["__scopeId","data-v-e171da68"]]);export{dt as default};
