import{_ as A,P as b,D as S,A as T,a as _,b as p,r,o as i,c as d,d as m,e as t,t as s,f as D,w as u,j as P,g as f,h as y,p as k,i as E}from"./index-6fcab6bb.js";b.use(S);const w={name:"AdminEditHistory",components:{AdminSidebar:T,DataTable:b},data(){return{PageTitle:"OPERATIONAL STAFF DATABASE",PageDetail:"Edit History Logs",osp:[],model:{Osp:{}}}},mounted(){this.OspID=this.$route.params.ID,this.getOspEditHistory(this.OspID),this.OspData(this.OspID)},methods:{formatDate(n){const e={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(n).toLocaleDateString(void 0,e)},async getOspEditHistory(n){try{const e=await _.get(`${p}/api/osdVersion/${n}`);this.osp=e.data.OsdEditHistory,console.log(e)}catch(e){console.error(e)}},async OspData(n){try{const a=(await _.get(`${p}/api/osdlist/${n}/edit`)).data.Osd;console.log(a),!a||Object.keys(a).length===0?this.model.Osp={...this.model.Osp,NoData:"No Data"}:this.model.Osp={...a}}catch(e){e.response&&e.response.status===404&&alert(e.response.data.message)}}}},o=n=>(k("data-v-3260c98b"),n=n(),E(),n),I=o(()=>t("br",null,null,-1)),L=o(()=>t("br",null,null,-1)),x=o(()=>t("br",null,null,-1)),H=o(()=>t("br",null,null,-1)),N=o(()=>t("br",null,null,-1)),B={class:"container-fluid wrapper"},U=o(()=>t("p",{class:"Header"},"Recent Edit",-1)),V={class:"Header2"},C=o(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),F={class:"actions"},R=o(()=>t("i",{class:"bx bx-low-vision table-icon custom-link"},null,-1)),$=o(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),j=o(()=>t("thead",{style:{background:"#133f5c"},class:"text-white"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1)),q=o(()=>t("td",null,"no data",-1)),z=[q],G=o(()=>t("tfoot",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Date Edited"),t("th",null,"Name"),t("th",null,"Division"),t("th",null,"Section/Unit"),t("th",null,"Office/Location"),t("th",null,"Position Title"),t("th",null,"Position Level"),t("th",null,"Actions")])],-1));function J(n,e,a,K,c,g){const O=r("AdminSidebar"),v=r("router-link"),h=r("DataTable");return i(),d("div",null,[m(O,{iconText:c.PageTitle,iconDetails:c.PageDetail},null,8,["iconText","iconDetails"]),I,L,x,H,N,t("div",B,[U,t("p",V,s(c.model.Osp.Agency),1),this.osp.length>0?(i(),D(h,{key:0,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"ospTable",options:{order:[[0,"desc"]],stateSave:!0}},{default:u(()=>[C,t("tbody",null,[(i(!0),d(f,null,y(c.osp,l=>(i(),d("tr",{key:l.id},[t("td",null,s(l.id),1),t("td",null,s(g.formatDate(l.created_at)),1),t("td",null,s(l.fullname),1),t("td",null,s(l.division),1),t("td",null,s(l.section_unit),1),t("td",null,s(l.office_location_official_station),1),t("td",null,s(l.position_title),1),t("td",null,s(l.position_level),1),t("td",F,[m(v,{to:{path:"/adminosp/"+l.id+"/editHistory/view"},class:"custom-link"},{default:u(()=>[R]),_:2},1032,["to"])])]))),128))]),$]),_:1})):this.osp.length<=0?(i(),D(h,{key:1,style:{width:"100%"},class:"display stripe order-column cell-border hover compact",id:"ospTable"},{default:u(()=>[j,t("tbody",null,[(i(!0),d(f,null,y(c.osp,l=>(i(),d("tr",{key:l.id},z))),128))]),G]),_:1})):P("",!0)])])}const Q=A(w,[["render",J],["__scopeId","data-v-3260c98b"]]);export{Q as default};
